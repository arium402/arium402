<!DOCTYPE html>
<html lang="ko" xmlns:th="https://www.thymeleaf.org/">
    <head th:replace="~{/admin_config.html :: admin_config}"></head>
    <title>상담 신청 내역 - 관리자 페이지</title>
	<link rel="stylesheet" th:href="@{/css/admin/admin_counselor_studentApply.css?v=1}">

    <body class="sb-nav-fixed">
        <!-- 상단 네비게이션 바 -->
        <nav th:replace="~{/admin_top.html :: admin_top}"></nav>
     
        <div id="layoutSidenav">
            <!-- 사이드바 -->
            <div th:replace="~{/admin_sidebar.html :: admin_sidebar}"> </div>
            
            <!-- 메인 컨텐츠 -->
            <div id="layoutSidenav_content">
                <div class="main-content">
                    <!-- 페이지 제목 -->
                    <h1 class="page-title">상담 신청 내역</h1>
                    <div class="title-divider"></div>
                    
                    <!-- 필터 영역 -->
                    <div class="filter-section">
                        <div class="filter-row">
                            <div class="filter-left">
                                <label class="filter-label">상담분류</label>
                                <select class="filter-select" id="counselingType">
                                    <option value="">전체</option>
                                    <option value="심리">심리</option>
                                    <option value="위기">위기</option>
                                    <option value="익명">익명</option>
                                    <option value="진로/취업">진로/취업</option>
                                    <option value="학습 컨설팅">학습 컨설팅</option>
                                </select>
                                
                                <label class="filter-label">현황분류</label>
                                <select class="filter-select" id="statusType">
                                    <option value="">전체</option>
                                    <option value="진행">진행</option>
                                    <option value="완료">완료</option>
                                    <option value="취소">취소</option>
                                </select>
                            </div>
                            
                            <div class="search-area">
                                <select class="search-type-select" id="searchType">
                                    <option value="student_id">학번</option>
                                    <option value="student_name">학생이름</option>
                                    <option value="counselor">상담사</option>
                                </select>
                                <input type="text" class="search-input" id="searchInput" placeholder="검색어를 입력하세요">
                                <button class="search-btn" onclick="searchApplications()">
                                    <i class="fas fa-search"></i> 검색
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 테이블 -->
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th class="col-no">NO</th>
                                    <th class="col-student-id">학번</th>
                                    <th class="col-student-name">학생 이름</th>
                                    <th class="col-category">상담분류</th>
                                    <th class="col-counselor">상담사</th>
                                    <th class="col-date">상담일자</th>
                                    <th class="col-status">현황</th>
                                </tr>
                            </thead>
                            <tbody id="applicationTableBody">
                                <!-- 데이터가 여기에 동적으로 추가됩니다 -->
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- 페이지네이션 -->
                    <div class="pagination-container">
                        <div class="pagination" id="pagination">
                            <!-- 페이지네이션 버튼이 여기에 동적으로 추가됩니다 -->
                        </div>
                        <div class="pagination-info" id="paginationInfo">
                            <!-- 페이지 정보가 여기에 표시됩니다 -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 상담 신청 상세보기 모달 -->
        <div class="modal-overlay" id="detailModal">
            <div class="detail-modal">
                <div class="modal-header">
                    <h2 class="modal-title">상담 신청 상세보기</h2>
                    <button class="modal-close" onclick="closeDetailModal()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="detail-section">
                        <h3 class="section-title">신청자 정보</h3>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <span class="detail-label">학번</span>
                                <div class="detail-value" id="modalStudentId">-</div>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">이름</span>
                                <div class="detail-value" id="modalStudentName">-</div>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">연락처</span>
                                <div class="detail-value" id="modalPhone">-</div>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">이메일</span>
                                <div class="detail-value" id="modalEmail">-</div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h3 class="section-title">상담 정보</h3>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <span class="detail-label">상담분류</span>
                                <div class="detail-value" id="modalCategory">-</div>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">담당 상담사</span>
                                <div class="detail-value" id="modalCounselor">-</div>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">상담 일시</span>
                                <div class="detail-value" id="modalDateTime">-</div>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">현재 상태</span>
                                <div class="detail-value" id="modalCurrentStatus">-</div>
                            </div>
                            <div class="detail-item detail-full">
                                <span class="detail-label">상담 요청 내용</span>
                                <div class="detail-value" id="modalContent">상담을 통해 현재 겪고 있는 어려움에 대해 전문적인 조언을 받고 싶습니다. 최근 학업 스트레스와 진로 고민으로 인해 심리적으로 힘든 상황입니다.</div>
                            </div>
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button class="btn-secondary" onclick="closeDetailModal()">닫기</button>
                    </div>
                </div>
            </div>
        </div>
        <script th:src="@{/js/admin/admin_counselor_studentApply.js}"></script>
    </body>
</html>