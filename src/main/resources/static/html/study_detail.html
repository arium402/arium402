<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>내담자 상세 정보 - 학습 컨설팅</title>
    <link href="./css/bootstrap/bootstrap.css" rel="stylesheet" crossorigin="anonymous">
    <link href="./css/home.css" rel="stylesheet">
    <link href="./css/board.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', Arial, sans-serif;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }

        /* Bootstrap 영향 무시하고 강제 적용 */
        body .main-container {
            display: flex !important;
            height: calc(100vh - 80px) !important;
            min-height: unset !important;
        }

        body .main-container .sidebar {
            width: 250px !important;
            background: #3498db !important;
            height: 100% !important;
            min-height: unset !important;
            overflow-y: auto;
        }

        body .main-container .content-area {
            flex: 1 !important;
            padding: 30px;
            width: auto !important;
        }

        .header-bar {
            background: white;
            padding: 15px 30px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            display: flex;
            align-items: center;
        }

        .logo img {
            height: 40px;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .user-name {
            font-weight: 600;
            color: #2c3e50;
        }

        .profile-icon {
            width: 32px;
            height: 32px;
            cursor: pointer;
            transition: opacity 0.2s ease;
            position: relative;
            color: #2c3e50;
        }

        .profile-icon:hover {
            opacity: 0.7;
        }

        .logout-btn {
            background: #6c757d;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }

        .logout-btn:hover {
            background: #5a6268;
        }

        .sidebar-menu {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .sidebar-menu li {
            border-bottom: 1px solid #5dade2;
        }

        .sidebar-menu a {
            display: block;
            color: white;
            padding: 15px 20px;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .sidebar-menu a:hover {
            background: #2980b9;
            color: white;
            text-decoration: none;
        }

        .sidebar-menu a.active {
            background: #e6a456;
            color: white;
            text-decoration: none;
        }

        .sidebar-menu .main-category {
            font-weight: 600;
            background: #2980b9;
        }

        .sidebar-menu .sub-category {
            padding-left: 35px;
            font-size: 14px;
        }

        .page-title {
            font-size: 24px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 30px;
        }

        .detail-container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            padding: 30px;
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #3498db;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .info-item {
            display: flex;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #ecf0f1;
        }

        .info-label {
            font-weight: 600;
            color: #34495e;
            width: 120px;
            flex-shrink: 0;
        }

        .info-value {
            color: #2c3e50;
            flex: 1;
        }

        .learning-section {
            margin-bottom: 25px;
        }

        .learning-section-title {
            font-weight: 600;
            color: #34495e;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .radio-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 10px;
        }

        .radio-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #2c3e50;
            font-size: 14px;
            min-width: 120px;
        }

        .radio-item input[type="radio"] {
            margin: 0;
        }

        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #2c3e50;
            font-size: 14px;
            min-width: 180px;
        }

        .checkbox-item input[type="checkbox"] {
            margin: 0;
        }

        .application-reason {
            margin-bottom: 20px;
        }

        .application-reason-label {
            font-weight: 600;
            color: #34495e;
            margin-bottom: 10px;
        }

        .application-reason-text {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            border-left: 4px solid #8e44ad;
            color: #2c3e50;
            line-height: 1.6;
        }

        .counseling-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        .counseling-table th,
        .counseling-table td {
            border: 1px solid #bdc3c7;
            padding: 12px;
            text-align: center;
            font-size: 14px;
        }

        .counseling-table th {
            background: #ecf0f1;
            font-weight: 600;
            color: #2c3e50;
        }

        .status-yes {
            color: #27ae60;
            font-weight: 600;
        }

        .status-no {
            color: #e74c3c;
            font-weight: 600;
        }

        .status-progress {
            color: #f39c12;
            font-weight: 600;
        }

        .status-complete {
            color: #27ae60;
            font-weight: 600;
        }

        .radio-column {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .session-radio {
            margin: 0;
        }

        .button-section {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: #3498db;
            color: white;
        }

        .btn-primary:hover {
            background: #2980b9;
        }

        .btn-success {
            background: #27ae60;
            color: white;
        }

        .btn-success:hover {
            background: #229954;
        }

        .btn-secondary {
            background: #95a5a6;
            color: white;
        }

        .btn-secondary:hover {
            background: #7f8c8d;
        }

        .btn-danger {
            background: #e74c3c;
            color: white;
        }

        .btn-danger:hover {
            background: #c0392b;
        }

        .back-btn {
            background: #6c757d;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            margin-bottom: 20px;
        }

        .back-btn:hover {
            background: #5a6268;
        }

        .learning-badge {
            background: #8e44ad;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 10px;
        }

        @media (max-width: 768px) {
            .main-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100% !important;
                min-height: auto !important;
                height: auto !important;
            }

            .info-grid {
                grid-template-columns: 1fr;
            }

            .button-section {
                flex-direction: column;
                align-items: center;
            }

            .btn {
                width: 200px;
            }

            .radio-group,
            .checkbox-group {
                flex-direction: column;
                gap: 10px;
            }

            .counseling-table {
                font-size: 12px;
            }

            .counseling-table th,
            .counseling-table td {
                padding: 8px;
            }

            .radio-item,
            .checkbox-item {
                min-width: auto;
            }
        }
    </style>
</head>
<body>
    <div class="header-bar">
        <div class="logo">
            <img src="./images/logo-header.png" alt="로고">
        </div>
        <div class="user-info">
            <span class="user-name">김상담 상담사</span>
            <div class="profile-icon" onclick="goToMyPage()">
                <svg fill="currentColor" viewBox="0 0 20 20" width="32" height="32">
                    <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path>
                </svg>
            </div>
            <button class="logout-btn">로그아웃</button>
        </div>
    </div>

    <div class="main-container">
        <nav class="sidebar">
             <ul class="sidebar-menu">
                <li><a href="#" class="main-category">상담관리</a></li>
                <li><a href="#" class="sub-category">신청자 관리</a></li>
                <li><a href="#" class="sub-category active">내담자 관리</a></li>
                <li><a href="#" class="sub-category">상담 일정 확인</a></li>
                <li><a href="#" class="sub-category">근무 일정 관리</a></li>
                <li><a href="#" class="main-category">게시판 관리</a></li>
                <li><a href="#" class="sub-category">공지사항</a></li>
                <li><a href="#" class="sub-category">F&Q</a></li>
                <li><a href="#" class="sub-category">문의 게시판</a></li>
            </ul>
        </nav>

        <div class="content-area">
            <button class="back-btn" onclick="goBack()">← 목록으로 돌아가기</button>
            <div class="page-title">
                내담자 상세 정보
            </div>
            
            <!-- 학생 정보 섹션 -->
            <div class="detail-container">
                <div class="section-title">학생 정보</div>
                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-label">이름:</div>
                        <div class="info-value" id="studentName">최수영</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">성별:</div>
                        <div class="info-value" id="studentGender">여</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">생년월일:</div>
                        <div class="info-value" id="studentBirth">2003-05-12</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">학번:</div>
                        <div class="info-value" id="studentId">202312345</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">학과:</div>
                        <div class="info-value" id="studentDepartment">심리학과</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">연락처:</div>
                        <div class="info-value" id="studentPhone">010-4567-8901</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">이메일:</div>
                        <div class="info-value" id="studentEmail">suyoung.choi@university.ac.kr</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">주소:</div>
                        <div class="info-value" id="studentAddress">서울시 마포구 홍대로 456</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">신청유형:</div>
                        <div class="info-value" id="applicationType">학습 컨설팅</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">이전 상담 경험:</div>
                        <div class="info-value" id="previousCounseling">없음</div>
                    </div>
                </div>
            </div>

            <!-- 사전 설문 조사 섹션 -->
            <div class="detail-container">
                <div class="section-title">사전 설문 조사</div>
                
                <!-- 현재 학년 -->
                <div class="learning-section">
                    <div class="learning-section-title">현재 몇 학년에 재학중이십니까?</div>
                    <div class="radio-group" id="currentGrade">
                        <div class="radio-item">
                            <input type="radio" name="grade" value="1학년" disabled>
                            <label>1학년</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="grade" value="2학년" checked disabled>
                            <label>2학년</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="grade" value="3학년" disabled>
                            <label>3학년</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="grade" value="4학년" disabled>
                            <label>4학년</label>
                        </div>
                    </div>
                </div>

                <!-- 신청 목적 -->
                <div class="learning-section">
                    <div class="learning-section-title">신청 목적 (복수 선택 가능)</div>
                    <div class="checkbox-group" id="applicationPurpose">
                        <div class="checkbox-item">
                            <input type="checkbox" checked disabled>
                            <label>대학공부 전략(노트필기, 예복습, 과제 등)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" checked disabled>
                            <label>시험 및 성적관리</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" disabled>
                            <label>시간 관리</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" disabled>
                            <label>자격증 공부</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" checked disabled>
                            <label>전공학습</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" disabled>
                            <label>진학</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" disabled>
                            <label>학습 습관 형성</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" disabled>
                            <label>학업 강·약점 파악</label>
                        </div>
                    </div>
                </div>

                <!-- 현재 수강 과목 수 -->
                <div class="learning-section">
                    <div class="learning-section-title">현재 수강하고 있는 과목 수</div>
                    <div class="radio-group" id="subjectCount">
                        <div class="radio-item">
                            <input type="radio" name="subjects" value="0개" disabled>
                            <label>0개</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="subjects" value="1~2개" disabled>
                            <label>1~2개</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="subjects" value="3~4개" disabled>
                            <label>3~4개</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="subjects" value="5~6개" checked disabled>
                            <label>5~6개</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="subjects" value="7개 이상" disabled>
                            <label>7개 이상</label>
                        </div>
                    </div>
                </div>

                <!-- 평균 학습 시간 -->
                <div class="learning-section">
                    <div class="learning-section-title">평균 학습 시간</div>
                    <div class="radio-group" id="studyTime">
                        <div class="radio-item">
                            <input type="radio" name="studyHours" value="1시간 미만" disabled>
                            <label>1시간 미만</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="studyHours" value="1~3시간" checked disabled>
                            <label>1~3시간</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="studyHours" value="3~6시간" disabled>
                            <label>3~6시간</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="studyHours" value="6~9시간" disabled>
                            <label>6~9시간</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="studyHours" value="9시간 이상" disabled>
                            <label>9시간 이상</label>
                        </div>
                    </div>
                </div>

                <!-- 학습 성취도 -->
                <div class="learning-section">
                    <div class="learning-section-title">학습 성취도</div>
                    <div class="radio-group" id="achievement">
                        <div class="radio-item">
                            <input type="radio" name="achievement" value="0~20%" disabled>
                            <label>0~20%</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="achievement" value="20~40%" disabled>
                            <label>20~40%</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="achievement" value="40~60%" checked disabled>
                            <label>40~60%</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="achievement" value="60~80%" disabled>
                            <label>60~80%</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="achievement" value="80~100%" disabled>
                            <label>80~100%</label>
                        </div>
                    </div>
                </div>

                <!-- 학습 방법 -->
                <div class="learning-section">
                    <div class="learning-section-title">학습 방법 (복수 선택 가능)</div>
                    <div class="checkbox-group" id="studyMethods">
                        <div class="checkbox-item">
                            <input type="checkbox" disabled>
                            <label>문제풀이</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" checked disabled>
                            <label>암기</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" checked disabled>
                            <label>요약 정리</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" disabled>
                            <label>스터디</label>
                        </div>
                    </div>
                </div>

                <!-- 학습 방해 요소 -->
                <div class="learning-section">
                    <div class="learning-section-title">학습 방해 요소 (복수 선택 가능)</div>
                    <div class="checkbox-group" id="distractions">
                        <div class="checkbox-item">
                            <input type="checkbox" disabled>
                            <label>텔레비전</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" disabled>
                            <label>컴퓨터</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" disabled>
                            <label>라디오</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" checked disabled>
                            <label>스마트폰</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" disabled>
                            <label>만화책</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" checked disabled>
                            <label>친구</label>
                        </div>
                    </div>
                </div>

                <!-- 공부 장소 -->
                <div class="learning-section">
                    <div class="learning-section-title">공부 장소 (복수 선택 가능)</div>
                    <div class="checkbox-group" id="studyPlaces">
                        <div class="checkbox-item">
                            <input type="checkbox" checked disabled>
                            <label>기숙사</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" checked disabled>
                            <label>도서관</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" disabled>
                            <label>스터디 카페</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" disabled>
                            <label>집</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" disabled>
                            <label>카페</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" disabled>
                            <label>학교</label>
                        </div>
                    </div>
                </div>

                <!-- 신청 사유 -->
                <div class="application-reason">
                    <div class="application-reason-label">신청 사유</div>
                    <div class="application-reason-text" id="applicationReason">
                        2학년이 되면서 전공 수업의 난이도가 높아져 공부 방법에 대한 고민이 많습니다. 고등학교 때의 암기 위주 공부법으로는 대학 수업을 따라가기 어려워서 효과적인 학습 전략을 배우고 싶습니다. 특히 심리학과 전공 과목들은 이론과 실습이 함께 있어서 어떻게 공부해야 할지 막막합니다. 성적 관리도 체계적으로 하고 싶고, 시험 준비를 더 효율적으로 하는 방법을 알고 싶어서 학습 컨설팅을 신청하게 되었습니다.
                    </div>
                </div>
            </div>

            <!-- 상담 진행 정보 섹션 -->
            <div class="detail-container">
                <div class="section-title">상담 진행 정보</div>
                <table class="counseling-table">
                    <thead>
                        <tr>
                            <th>날짜</th>
                            <th>차수</th>
                            <th>진행상태</th>
                            <th>일지 작성여부</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>2025-06-15</td>
                            <td>1회</td>
                            <td><span class="status-progress">진행</span></td>
                            <td>
                                <div class="radio-column">
                                    <span class="status-no">N</span>
                                    <input type="radio" name="selectedSession" value="2025-06-15-1" id="session-1" class="session-radio">
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <!-- 버튼 섹션 -->
                <div class="button-section">
                    <button class="btn btn-success" onclick="writeCounselingRecord()">상담일지 작성</button>
                    <button class="btn btn-secondary" onclick="completeCounseling()">상담 완료</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // URL에서 클라이언트 ID 가져오기
        function getClientIdFromUrl() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('id') || '1';
        }

        // 학습 컨설팅 클라이언트 데이터
        const learningClientData = {
            '1': {
                name: '최수영',
                gender: '여',
                birth: '2003-05-12',
                studentId: '202312345',
                department: '심리학과',
                phone: '010-4567-8901',
                email: 'suyoung.choi@university.ac.kr',
                address: '서울시 마포구 홍대로 456',
                applicationType: '학습 컨설팅',
                previousCounseling: '없음',
                currentGrade: '2학년',
                applicationPurposes: ['대학공부 전략(노트필기, 예복습, 과제 등)', '시험 및 성적관리', '전공학습'],
                subjectCount: '5~6개',
                studyTime: '1~3시간',
                achievement: '40~60%',
                studyMethods: ['암기', '요약 정리'],
                distractions: ['스마트폰', '친구'],
                studyPlaces: ['기숙사', '도서관'],
                applicationReason: '2학년이 되면서 전공 수업의 난이도가 높아져 공부 방법에 대한 고민이 많습니다. 고등학교 때의 암기 위주 공부법으로는 대학 수업을 따라가기 어려워서 효과적인 학습 전략을 배우고 싶습니다. 특히 심리학과 전공 과목들은 이론과 실습이 함께 있어서 어떻게 공부해야 할지 막막합니다. 성적 관리도 체계적으로 하고 싶고, 시험 준비를 더 효율적으로 하는 방법을 알고 싶어서 학습 컨설팅을 신청하게 되었습니다.',
                counselingSessions: [
                    { date: '2025-06-15', session: 1, status: 'progress', recordWritten: false }
                ]
            }
        };

        // 목록으로 돌아가기
        function goBack() {
            history.back();
        }

        // 마이페이지로 이동
        function goToMyPage() {
            window.open('mypage.html', '_blank');
        }

        // 상담일지 작성
        function writeCounselingRecord() {
            const selectedSession = document.querySelector('input[name="selectedSession"]:checked');
            if (!selectedSession) {
                alert('상담일지를 작성할 세션을 선택해주세요.');
                return;
            }
            alert('상담일지 작성 페이지로 이동합니다.');
            // window.location.href = `/counseling-record?session=${selectedSession.value}`;
        }

        // 상담 완료
        function completeCounseling() {
            if (confirm('정말로 상담을 완료하시겠습니까?')) {
                alert('상담이 완료되었습니다.');
                // 완료 처리 로직
            }
        }

        // 페이지 로드 시 데이터 로드
        window.onload = function() {
            const clientId = getClientIdFromUrl();
            const clientInfo = learningClientData[clientId];
            
            if (clientInfo) {
                // 학생 정보 업데이트
                document.getElementById('studentName').textContent = clientInfo.name;
                document.getElementById('studentGender').textContent = clientInfo.gender;
                document.getElementById('studentBirth').textContent = clientInfo.birth;
                document.getElementById('studentId').textContent = clientInfo.studentId;
                document.getElementById('studentDepartment').textContent = clientInfo.department;
                document.getElementById('studentPhone').textContent = clientInfo.phone;
                document.getElementById('studentEmail').textContent = clientInfo.email;
                document.getElementById('studentAddress').textContent = clientInfo.address;
                document.getElementById('applicationType').textContent = clientInfo.applicationType;
                document.getElementById('previousCounseling').textContent = clientInfo.previousCounseling;
                document.getElementById('applicationReason').textContent = clientInfo.applicationReason;
            }
        };

        // 사이드바 메뉴 클릭 핸들링
        document.addEventListener('DOMContentLoaded', function() {
            const menuLinks = document.querySelectorAll('.sidebar-menu a:not(.main-category)');
            
            menuLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // 모든 메뉴에서 active 클래스 제거
                    menuLinks.forEach(l => l.classList.remove('active'));
                    
                    // 클릭된 메뉴에 active 클래스 추가
                    this.classList.add('active');
                });
            });
        });
    </script>
</body>
</html>